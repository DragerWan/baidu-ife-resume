<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>IFE ECMAScript</title>
    <style>

    </style>
</head>

<body>
    <div>
        <label>Number A:<input id="radio-a" type="radio" name="math-obj" value="a"></label><input id="num-a"
            type="text">
        <label>Number B:<input id="radio-b" type="radio" name="math-obj" value="b"></label><input id="num-b"
            type="text">
    </div>
    <div id="buttons">
        <button id='btn-1'>判断当前选中的输入框输入内容是否为数字</button>
        <button id='btn-2'>把 A 四舍五入为 B 个小数位数的数字</button>
        <button id='btn-3'>当前选中数字的绝对值</button>
        <button id='btn-4'>对当前选中的数字进行上舍入</button>
        <button id='btn-5'>对当前选中的数字进行下舍入</button>
        <button id='btn-6'>把当前选中的数字四舍五入为最接近的整数</button>
        <button id='btn-7'>返回 A 和 B 中的最高值</button>
        <button id='btn-8'>返回 A 和 B 中的最低值</button>
    </div>
    <p id="result"></p>


    <script>
        let radioA = document.getElementById("radio-a");
        let radioB = document.getElementById("radio-b");
        let inputA = document.getElementById("num-a");
        let inputB = document.getElementById("num-b");
        let result = document.getElementById("result");
        let numberA, numberB;
        document.getElementById("buttons").onclick = (event) => {
            let id = event.target.id;
            console.log("button id:", id);
            switch (id) {
                case "btn-1":
                    btn1();
                    break;
                case "btn-2":
                btn2();
                    break;
                    case "btn-3":
                btn3();
                    break;
                    case "btn-4":
                btn4();
                    break;
                    case "btn-5":
                btn5();
                    break;
                    case "btn-6":
                btn6();
                    break;
                    case "btn-7":
                btn7();
                    break;
                    case "btn-8":
                btn8();
                    break;
                default:
                    break;
            }
        }
        function getNumber(){
            numberA = Number(inputA.value);
            numberB = Number(inputB.value);
            if(isNaN(numberA) || isNaN(numberB)){
                console.log("未输入有效数字！");
                result.innerHTML = "未输入有效数字！";
                return false;
            }
            return true;
        }
        function getSelectedNumber(){
            let number = NaN;
            if(radioA.checked){
                number = Number(inputA.value);
            } else if(radioB.checked) {
                number = Number(inputB.value);
            } else {
                result.innerHTML = "请先选择输入框";
                return NaN;
            }
            if(isNaN(number)){
                console.log("未输入有效数字！");
                result.innerHTML = "未输入有效数字！";
            }
            return number;
        }
        function btn1(){
            let testValue = "";
            console.log("radioA", radioA);
            if(radioA.checked){
                testValue = inputA.value;
                console.log("testValue", testValue);
            } else if(radioB.checked) {
                testValue = inputB.value;
            } else {
                result.innerHTML = "请先选择输入框";
                return;
            }
            if(!testValue){
                result.innerHTML = "输入框为空";
            } else {
                if(!isNaN(Number(testValue))){
                    result.innerHTML = "是数字";
                } else {
                    result.innerHTML = "不是数字";
                }
            }
        }
        function btn2(){
            if(!getNumber()){
                return;
            }
            result.innerHTML = numberA.toFixed(numberB);
        }
        function btn3(){
            let number = getSelectedNumber();
            if(isNaN(number)){
                return;
            }
            result.innerHTML = Math.abs(number);
        }
        function btn4(){
            let number = getSelectedNumber();
            if(isNaN(number)){
                return;
            }
            result.innerHTML = Math.ceil(number);
        }
        function btn5(){
            let number = getSelectedNumber();
            if(isNaN(number)){
                return;
            }
            result.innerHTML = Math.floor(number);
        }
        function btn6(){
            let number = getSelectedNumber();
            if(isNaN(number)){
                return;
            }
            result.innerHTML = Math.round(number);
        }
        function btn7(){
            if(!getNumber()){
                return;
            }
            result.innerHTML = Math.max(numberA, numberB);
        }
        function btn8(){
            if(!getNumber()){
                return;
            }
            result.innerHTML = Math.min(numberA, numberB);
        }
    </script>
</body>

</html>